
package blockplus.export;

import static org.junit.Assert.assertEquals;

import org.junit.Test;

import blockplus.model.Context;

public class ContextRepresentationTest {

    @Test
    public void testEncodeOptions() {
        final String expected =
                                "{\"0\":{\"1\":[[0]]," +
                                        "\"2\":[[0,1],[0,20]]," +
                                        "\"3\":[[0,1,2],[0,20,40]]," +
                                        "\"4\":[[0,1,20],[0,1,21],[0,20,21]]," +
                                        "\"5\":[[0,1,2,3],[0,20,40,60]]," +
                                        "\"6\":[[0,1,2,20],[0,1,2,22],[0,20,40,41],[0,1,20,40],[0,1,21,41],[0,20,21,22]]," +
                                        "\"7\":[[0,1,2,21],[0,20,21,40]]," +
                                        "\"8\":[[0,1,20,21]]," +
                                        "\"9\":[[0,20,21,41],[0,1,21,22]]," +
                                        "\"10\":[[0,1,2,3,20],[0,1,2,3,23],[0,1,20,40,60],[0,1,21,41,61],[0,20,21,22,23],[0,20,40,60,61]]," +
                                        "\"11\":[[0,1,2,3,4],[0,20,40,60,80]]," +
                                        "\"12\":[[0,1,2,22,23],[0,1,21,22,23],[0,20,21,41,61],[0,20,40,41,61]]," +
                                        "\"13\":[[0,1,2,21,22],[0,1,2,20,21],[0,1,20,21,40],[0,20,21,40,41],[0,1,20,21,22],[0,1,20,21,41]]," +
                                        "\"14\":[[0,1,2,20,22],[0,1,20,40,41],[0,1,21,40,41],[0,2,20,21,22]]," +
                                        "\"15\":[[0,1,2,3,21],[0,1,2,3,22],[0,20,21,40,60],[0,20,40,41,60]]," +
                                        "\"16\":[[0,1,2,21,41],[0,20,21,22,40]]," +
                                        "\"17\":[[0,1,2,20,40],[0,1,2,22,42],[0,20,40,41,42]]," +
                                        "\"18\":[[0,20,21,41,42],[0,1,21,22,42]]," +
                                        "\"19\":[[0,20,21,22,42],[0,1,21,41,42]]," +
                                        "\"20\":[[0,20,21,22,41],[0,1,21,22,41]]}}";
        final Context context = new Context.Builder().build();
        final ContextRepresentation contextRepresentation = new ContextRepresentation(context);
        final String actual = contextRepresentation.encodeOptions().toString();
        assertEquals(expected, actual);
    }

}